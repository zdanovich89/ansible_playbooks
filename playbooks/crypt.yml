---
- name: Creat file and vars
  hosts: REDHAT
  become: true
  
  vars:
    password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38386535323537353635623132306466656136656531663838363530326436666334323965306133
          6130663036376232373134376531393437373166363836390a386139326532316135363332383965
          65353963343962336136663439336332616233393663323730343864393963616662346137336263
          3030363231613435610a316232346662343436666632656430393338613931616539626362383237
          6366

  tasks:
  - name: Create file with secret
    copy: 
      dest: "/home/ec2-user/secret.txt"
      content: |
        not secret = 1234
        secret={{ password }}